<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Romantic Cards</title>

<style>
*{
    box-sizing:border-box;
    -webkit-tap-highlight-color:transparent;
}

html,body{
    margin:0;
    padding:0;
    width:100%;
    height:100%;
    overflow:hidden;
    background:#222;
    font-family:sans-serif;
}

/* –§–û–ù */
#background{
    position:absolute;
    inset:0;
    background:url("bg.jpg") center/cover no-repeat;
    z-index:1;
}

/* –ó–ê–¢–ï–ú–ù–ï–ù–ò–ï */
#overlay{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,0.75);
    backdrop-filter:blur(3px);
    opacity:0;
    pointer-events:none;
    transition:.4s;
    z-index:10;
}

#overlay.active{
    opacity:1;
    pointer-events:auto;
}

/* –ö–û–ù–¢–ï–ô–ù–ï–† */
.cards-container{
    position:absolute;
    inset:0;
    pointer-events:none;
}

/* –ö–ê–†–¢–û–ß–ö–ê */
.card-wrapper{
    position:absolute;
    width:180px;
    aspect-ratio:16/9;
    cursor:pointer;
    perspective:1200px;
    pointer-events:auto;
    transition:.8s cubic-bezier(.25,.8,.25,1);
    z-index:5;
    filter:drop-shadow(0 6px 10px rgba(0,0,0,.4));
}

/* –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ */
.card-wrapper:nth-child(1){ top:25%; left:10%; transform:rotate(-15deg);}
.card-wrapper:nth-child(2){ top:15%; left:40%; transform:rotate(6deg);}
.card-wrapper:nth-child(3){ top:30%; right:5%; transform:rotate(12deg);}
.card-wrapper:nth-child(4){ top:60%; left:15%; transform:rotate(-8deg);}
.card-wrapper:nth-child(5){ top:55%; left:50%; transform:rotate(20deg);}

/* –ê–ö–¢–ò–í–ù–ê–Ø */
.card-wrapper.active{
    top:50% !important;
    left:50% !important;
    width:90vw;
    max-width:1920px;
    aspect-ratio:16/9;
    transform:translate(-50%,-50%) rotate(0deg) !important;
    z-index:100;
    filter:drop-shadow(0 30px 80px rgba(0,0,0,.9));
}

/* –í–ù–£–¢–†–ï–ù–ù–û–°–¢–¨ */
.card-inner{
    position:relative;
    width:100%;
    height:100%;
    transform-style:preserve-3d;
    transition:transform .8s;
}

.card-wrapper.flipped .card-inner{
    transform:rotateY(180deg);
}

.card-front,
.card-back{
    position:absolute;
    inset:0;
    backface-visibility:hidden;
    border-radius:14px;
    overflow:hidden;
}

.card-back{
    transform:rotateY(180deg);
}

/* –í–ê–ñ–ù–û ‚Äî –ë–ï–ó –ß–Å–†–ù–´–• –ü–û–õ–û–° */
.card-front img,
.card-back img{
    width:100%;
    height:100%;
    object-fit:cover;   /* –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é */
    display:block;
}

/* –ö–ù–û–ü–ö–ê –ü–ï–†–ï–í–û–†–û–¢–ê */
#flip-btn{
    position:absolute;
    bottom:40px;
    left:50%;
    transform:translateX(-50%) scale(0);
    background:#fff;
    border:none;
    padding:15px 40px;
    border-radius:50px;
    font-size:18px;
    font-weight:bold;
    cursor:pointer;
    z-index:120;
    transition:.3s cubic-bezier(.175,.885,.32,1.275);
}

#flip-btn.visible{
    transform:translateX(-50%) scale(1);
}

/* –ö–ù–û–ü–ö–ê –ú–£–ó–´–ö–ò */
#music-control{
    position:absolute;
    top:20px;
    right:20px;
    width:55px;
    height:55px;
    border-radius:50%;
    background:rgba(255,255,255,.9);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:26px;
    cursor:pointer;
    z-index:200;
    transition:.2s;
}

#music-control:active{
    transform:scale(.9);
}
</style>
</head>

<body>

<audio id="bg-music" src="muzik.mp3" loop></audio>
<audio id="sfx" src="sound.mp3"></audio>

<div id="background"></div>
<div id="music-control">üîá</div>
<div id="overlay"></div>

<div class="cards-container">

<div class="card-wrapper">
<div class="card-inner">
<div class="card-front"><img src="1_1.png"></div>
<div class="card-back"><img src="1_2.png"></div>
</div>
</div>

<div class="card-wrapper">
<div class="card-inner">
<div class="card-front"><img src="2_1.png"></div>
<div class="card-back"><img src="2_2.png"></div>
</div>
</div>

<div class="card-wrapper">
<div class="card-inner">
<div class="card-front"><img src="3_1.png"></div>
<div class="card-back"><img src="3_2.png"></div>
</div>
</div>

<div class="card-wrapper">
<div class="card-inner">
<div class="card-front"><img src="4_1.png"></div>
<div class="card-back"><img src="4_2.png"></div>
</div>
</div>

<div class="card-wrapper">
<div class="card-inner">
<div class="card-front"><img src="5_1.png"></div>
<div class="card-back"><img src="5_2.png"></div>
</div>
</div>

</div>

<button id="flip-btn">‚Ü∫ –ü–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å</button>

<script>
const cards=document.querySelectorAll('.card-wrapper');
const overlay=document.getElementById('overlay');
const flipBtn=document.getElementById('flip-btn');
const bgMusic=document.getElementById('bg-music');
const sfx=document.getElementById('sfx');
const musicBtn=document.getElementById('music-control');

let activeCard=null;
let musicPlaying=false;

/* –ú–£–ó–´–ö–ê */
musicBtn.addEventListener('click',async(e)=>{
e.stopPropagation();
try{
if(!musicPlaying){
bgMusic.volume=0.5;
await bgMusic.play();
musicBtn.textContent="üéµ";
musicPlaying=true;
}else{
bgMusic.pause();
musicBtn.textContent="üîá";
musicPlaying=false;
}
}catch(err){
console.log("Music error:",err);
}
});

/* –ó–í–£–ö */
function playSfx(){
sfx.currentTime=0;
sfx.play().catch(()=>{});
}

/* –û–¢–ö–†–´–¢–ò–ï */
cards.forEach(card=>{
card.addEventListener('click',(e)=>{
e.stopPropagation();

if(card.classList.contains('active')) return;

if(activeCard){
closeCard();
setTimeout(()=>openCard(card),300);
}else{
openCard(card);
}
});
});

function openCard(card){
playSfx();
activeCard=card;
overlay.classList.add('active');
card.classList.add('active');
setTimeout(()=>flipBtn.classList.add('visible'),500);
}

function closeCard(){
if(!activeCard) return;
playSfx();
activeCard.classList.remove('active','flipped');
overlay.classList.remove('active');
flipBtn.classList.remove('visible');
activeCard=null;
}

/* –ü–ï–†–ï–í–û–†–û–¢ */
flipBtn.addEventListener('click',(e)=>{
e.stopPropagation();
if(activeCard){
playSfx();
activeCard.classList.toggle('flipped');
}
});

overlay.addEventListener('click',closeCard);
</script>

</body>
</html>
